{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e18b0f04672728c71509","webpack:///./source/index.js","webpack:///external \"x-ray\"","webpack:///external \"url\"","webpack:///./source/config.js","webpack:///./source/markActiveFavicon.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"x-ray\"), require(\"url\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"x-ray\", \"url\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fetchFavicon\"] = factory(require(\"x-ray\"), require(\"url\"));\n\telse\n\t\troot[\"fetchFavicon\"] = factory(root[\"x-ray\"], root[\"url\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e18b0f04672728c71509\n **/","'use strict'\n\nconst x = require('x-ray')()\nconst Url = require('url')\nconst config = require('./config')\nconst markActiveFavicon = require('./markActiveFavicon').default\n\nfunction getFavicons (url) {\n  return x(url, config.selectors.join(), [{\n    href: '@href',\n    content: '@content',\n    property: '@property',\n    rel: '@rel',\n    name: '@name',\n    sizes: '@sizes'\n  }])\n}\n\nexport { fetchFavicon as default }\n\nexport\nfunction fetchFavicon (url, size) {\n  return fetchFavicons(url, size)\n  .then((favicons) => {\n    const active = favicons.find((favicon) => favicon.active)\n    return active.href\n  })\n}\n\nexport\nfunction fetchFavicons (url, size) {\n  return new Promise(function (resolve, reject) {\n    getFavicons(url)((err, favicons) => {\n      if (err) {\n        return reject(err)\n      }\n      favicons.push({\n        href: Url.resolve(url, 'favicon.ico'),\n        name: 'favicon.ico'\n      })\n\n      favicons = favicons.map((favicon) => {\n        const f = {\n          href: favicon.href || favicon.content,\n          name: favicon.name || favicon.rel || favicon.property,\n          size: Math.min.apply(null, (favicon.sizes || '').split(/[^0-9\\.]+/g)) || undefined\n        }\n\n        if (!f.size) {\n          delete f.size\n        }\n\n        return f\n      })\n\n      markActiveFavicon(favicons, size)\n      return resolve(favicons)\n    })\n  })\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/index.js\n **/","module.exports = require(\"x-ray\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"x-ray\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = require(\"url\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"url\"\n ** module id = 2\n ** module chunks = 0\n **/","'use strict'\n\nmodule.exports = {\n  selectors: [\n    'link[rel=apple-touch-icon-precomposed][href]',\n    'link[rel=apple-touch-icon][href]',\n    'link[rel=\"shortcut icon\"][href]',\n    'link[rel=icon][href]',\n    'meta[name=msapplication-TileImage][content]',\n    'meta[name=twitter\\\\:image][content]',\n    'meta[property=og\\\\:image][content]'\n  ],\n\n  predicates: [\n    (f, s) => f.name === 'apple-touch-icon-precomposed' && f.size >= s,\n    (f, s) => f.name === 'apple-touch-icon' && f.size >= s,\n    (f, s) => f.name === 'twitter:image' && f.size >= s,\n    (f, s) => f.name === 'shortcut icon' && f.size >= s,\n    (f, s) => f.name === 'icon' && f.size >= s,\n    (f, s) => f.name === 'og:image' && f.size >= s,\n    (f, s) => f.name === 'msapplication-TileImage' && f.size >= s,\n\n    (f, s) => f.name === 'apple-touch-icon-precomposed',\n    (f, s) => f.name === 'apple-touch-icon',\n    (f, s) => f.name === 'twitter:image',\n    (f, s) => f.name === 'shortcut icon',\n    (f, s) => f.name === 'icon',\n    (f, s) => f.name === 'og:image',\n    (f, s) => f.name === 'msapplication-TileImage',\n    (f, s) => f.name === 'favicon.ico'\n  ]\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/config.js\n **/","'use strict'\n\nimport config from './config'\n\nexport default\nfunction markActiveFavicon (favicons, minSize) {\n  for (let i = 0; i < config.predicates.length; i++) {\n    const result = favicons.find((favicon) => config.predicates[i](favicon, minSize))\n    if (result) {\n      result.active = true\n      break\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/markActiveFavicon.js\n **/"],"sourceRoot":""}